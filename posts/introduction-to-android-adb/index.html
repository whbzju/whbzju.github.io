<!doctype html><html lang=en-us><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge,chrome=1"><title>introduction to android adb | Wujia Blog</title><meta name=viewport content="width=device-width,minimum-scale=1"><meta name=description content="Recently, I&rsquo;m interesting how android adb works. If you are an Android programer, you certainly familiar with adb shell,adb logcat. Or maybe you only use eclipse, it is helpful to know behind DDMS there is adb.
#ADB overview We can find adb description from android developer website.
Android Debug Bridge (adb) is a versatile command line tool that lets you communicate with an emulator instance or connected Android-powered device. It is a client-server program that includes three components:"><meta name=generator content="Hugo 0.104.3"><meta name=robots content="noindex, nofollow"><link rel=stylesheet href=/ananke/css/main.min.css><meta property="og:title" content="introduction to android adb"><meta property="og:description" content="Recently, I&rsquo;m interesting how android adb works. If you are an Android programer, you certainly familiar with adb shell,adb logcat. Or maybe you only use eclipse, it is helpful to know behind DDMS there is adb.
#ADB overview We can find adb description from android developer website.
Android Debug Bridge (adb) is a versatile command line tool that lets you communicate with an emulator instance or connected Android-powered device. It is a client-server program that includes three components:"><meta property="og:type" content="article"><meta property="og:url" content="https://whbzju.github.io/posts/introduction-to-android-adb/"><meta property="article:section" content="posts"><meta property="article:published_time" content="2014-03-30T12:23:00+08:00"><meta property="article:modified_time" content="2014-03-30T12:23:00+08:00"><meta itemprop=name content="introduction to android adb"><meta itemprop=description content="Recently, I&rsquo;m interesting how android adb works. If you are an Android programer, you certainly familiar with adb shell,adb logcat. Or maybe you only use eclipse, it is helpful to know behind DDMS there is adb.
#ADB overview We can find adb description from android developer website.
Android Debug Bridge (adb) is a versatile command line tool that lets you communicate with an emulator instance or connected Android-powered device. It is a client-server program that includes three components:"><meta itemprop=datePublished content="2014-03-30T12:23:00+08:00"><meta itemprop=dateModified content="2014-03-30T12:23:00+08:00"><meta itemprop=wordCount content="446"><meta itemprop=keywords content><meta name=twitter:card content="summary"><meta name=twitter:title content="introduction to android adb"><meta name=twitter:description content="Recently, I&rsquo;m interesting how android adb works. If you are an Android programer, you certainly familiar with adb shell,adb logcat. Or maybe you only use eclipse, it is helpful to know behind DDMS there is adb.
#ADB overview We can find adb description from android developer website.
Android Debug Bridge (adb) is a versatile command line tool that lets you communicate with an emulator instance or connected Android-powered device. It is a client-server program that includes three components:"></head><body class="ma0 avenir bg-near-white"><header><div class=bg-black><nav class="pv3 ph3 ph4-ns" role=navigation><div class="flex-l justify-between items-center center"><a href=/ class="f3 fw2 hover-white no-underline white-90 dib">Wujia Blog</a><div class="flex-l items-center"><div class=ananke-socials></div></div></div></nav></div></header><main class=pb7 role=main><article class="flex-l flex-wrap justify-between mw8 center ph3"><header class="mt4 w-100"><aside class="instapaper_ignoref b helvetica tracked">POSTS</aside><div id=sharing class="mt3 ananke-socials"></div><h1 class="f1 athelas mt3 mb1">introduction to android adb</h1><time class="f6 mv4 dib tracked" datetime=2014-03-30T12:23:00+08:00>March 30, 2014</time></header><div class="nested-copy-line-height lh-copy serif f4 nested-links mid-gray pr4-l w-two-thirds-l"><p>Recently, I&rsquo;m interesting how android adb works. If you are an Android programer, you certainly familiar with <code>adb shell</code>,<code>adb logcat</code>. Or maybe you only use eclipse, it is helpful to know behind DDMS there is adb.</p><p>#ADB overview
We can find adb description from android developer website.</p><blockquote><p>Android Debug Bridge (adb) is a versatile command line tool that lets you communicate with an emulator instance or connected Android-powered device. It is a client-server program that includes three components:</p></blockquote><p>As introducted by google, it has three key components.</p><blockquote><ul><li>A client, which runs on your development machine. You can invoke a client from a shell by issuing an adb command. Other Android tools such as the ADT plugin and DDMS also create adb clients.</li><li>A server, which runs as a background process on your development machine. The server manages communication between the client and the adb daemon running on an emulator or device.</li><li>A daemon, which runs as a background process on each emulator or device instance.</li></ul></blockquote><p>#Basic communication model
We can make it clear through this picture.
<img src=/images/2014-03-25_adb_overview.png alt="adb overview"></p><ul><li><p>Daemon: which named adbd is a service which is started when android init, and it will be restarted when it died for some reason.</p></li><li><p>Service: run background on host, it act as a proxy use for transport. Or you may know android use binder to communication.</p></li><li><p>Client: like <code>adb shell</code>, <code>adb logcat</code></p></li></ul><p>#Command Detail
Please reference <a href=http://developer.android.com/tools/help/adb.html>android developer</a></p><h1 id=how-can-i-connect-to-android-with-adb-over-tcp>How can I connect to Android with ADB over TCP?</h1><p>At last, we have this topic. As we know from above, adb use tcp/usb, so it certainly can be connected with network. If it works, we can debug android without usb, and more we can connect one device with mutil adb client by many developers. And I find solution like this:
###if your device is rooted
According to a post on stackoverflow, you can enable ADB over Wi-Fi from the device with the commands:</p><hr><p><code>su</code></p><p><code>setprop service.adb.tcp.port 5555</code></p><p><code>stop adbd</code></p><p><code>start adbd</code></p><h2 id=toc-true>draft: false
toc: true</h2><p>And you can disable it and return ADB to listening on USB with</p><p><code>setprop service.adb.tcp.port -1</code></p><p><code>stop adbd</code></p><p><code>start adbd</code></p><p>###if you have USB access already
It is even easier to switch to using Wi-Fi, if you already have USB. From a command line on the computer that has the device connected via USB, issue the commands</p><p><code>adb tcpip 5555</code></p><p><code>adb connect IP:5555</code></p><p>###return to listening over USB
Apps to automate the process by:</p><p><code>adb usb</code></p><p>###proctocol</p><ul><li>server<ul><li>success: OKAY</li><li>fail: FAIL</li></ul></li><li>client<ul><li>Message component with head which is 4 bytes indicate length of message, and follow is content.</li></ul></li></ul><p>###other
There are also several apps on Google Play that automate this process.</p><p>#Reference
<a href=http://events.linuxfoundation.org/images/stories/pdf/lf_abs12_kobayashi.pdf>lf_abs12_kobayashi</a></p><p><a href=http://developer.android.com/tools/help/adb.html>android developer</a></p><ul class=pa0></ul><div class="mt6 instapaper_ignoref"></div></div><aside class="w-30-l mt6-l"></aside></article></main><footer class="bg-black bottom-0 w-100 pa3" role=contentinfo><div class="flex justify-between"><a class="f4 fw4 hover-white no-underline white-70 dn dib-ns pv2 ph3" href=https://whbzju.github.io/>&copy; Wujia Blog 2022</a><div><div class=ananke-socials></div></div></div></footer></body></html>