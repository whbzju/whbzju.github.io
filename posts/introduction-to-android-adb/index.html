<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>introduction to android adb | Wujia's Blog</title><meta name=keywords content><meta name=description content="Recently, I&rsquo;m interesting how android adb works. If you are an Android programer, you certainly familiar with adb shell,adb logcat. Or maybe you only use eclipse, it is helpful to know behind DDMS there is adb.
#ADB overview We can find adb description from android developer website.
Android Debug Bridge (adb) is a versatile command line tool that lets you communicate with an emulator instance or connected Android-powered device. It is a client-server program that includes three components:"><meta name=author content><link rel=canonical href=https://whbzju.github.io/posts/introduction-to-android-adb/><link crossorigin=anonymous href=/assets/css/stylesheet.bc1149f4a72aa4858d3a9f71462f75e5884ffe8073ea9d6d5761d5663d651e20.css integrity="sha256-vBFJ9KcqpIWNOp9xRi915YhP/oBz6p1tV2HVZj1lHiA=" rel="preload stylesheet" as=style><script defer crossorigin=anonymous src=/assets/js/highlight.f413e19d0714851f6474e7ee9632408e58ac146fbdbe62747134bea2fa3415e0.js integrity="sha256-9BPhnQcUhR9kdOfuljJAjlisFG+9vmJ0cTS+ovo0FeA=" onload=hljs.initHighlightingOnLoad()></script>
<link rel=icon href=https://whbzju.github.io/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://whbzju.github.io/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://whbzju.github.io/favicon-32x32.png><link rel=apple-touch-icon href=https://whbzju.github.io/apple-touch-icon.png><link rel=mask-icon href=https://whbzju.github.io/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--hljs-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><meta property="og:title" content="introduction to android adb"><meta property="og:description" content="Recently, I&rsquo;m interesting how android adb works. If you are an Android programer, you certainly familiar with adb shell,adb logcat. Or maybe you only use eclipse, it is helpful to know behind DDMS there is adb.
#ADB overview We can find adb description from android developer website.
Android Debug Bridge (adb) is a versatile command line tool that lets you communicate with an emulator instance or connected Android-powered device. It is a client-server program that includes three components:"><meta property="og:type" content="article"><meta property="og:url" content="https://whbzju.github.io/posts/introduction-to-android-adb/"><meta property="article:section" content="posts"><meta property="article:published_time" content="2014-03-30T12:23:00+08:00"><meta property="article:modified_time" content="2014-03-30T12:23:00+08:00"><meta name=twitter:card content="summary"><meta name=twitter:title content="introduction to android adb"><meta name=twitter:description content="Recently, I&rsquo;m interesting how android adb works. If you are an Android programer, you certainly familiar with adb shell,adb logcat. Or maybe you only use eclipse, it is helpful to know behind DDMS there is adb.
#ADB overview We can find adb description from android developer website.
Android Debug Bridge (adb) is a versatile command line tool that lets you communicate with an emulator instance or connected Android-powered device. It is a client-server program that includes three components:"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://whbzju.github.io/posts/"},{"@type":"ListItem","position":2,"name":"introduction to android adb","item":"https://whbzju.github.io/posts/introduction-to-android-adb/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"introduction to android adb","name":"introduction to android adb","description":"Recently, I\u0026rsquo;m interesting how android adb works. If you are an Android programer, you certainly familiar with adb shell,adb logcat. Or maybe you only use eclipse, it is helpful to know behind DDMS there is adb.\n#ADB overview We can find adb description from android developer website.\nAndroid Debug Bridge (adb) is a versatile command line tool that lets you communicate with an emulator instance or connected Android-powered device. It is a client-server program that includes three components:","keywords":[],"articleBody":"Recently, Iâ€™m interesting how android adb works. If you are an Android programer, you certainly familiar with adb shell,adb logcat. Or maybe you only use eclipse, it is helpful to know behind DDMS there is adb.\n#ADB overview We can find adb description from android developer website.\nAndroid Debug Bridge (adb) is a versatile command line tool that lets you communicate with an emulator instance or connected Android-powered device. It is a client-server program that includes three components:\nAs introducted by google, it has three key components.\nA client, which runs on your development machine. You can invoke a client from a shell by issuing an adb command. Other Android tools such as the ADT plugin and DDMS also create adb clients. A server, which runs as a background process on your development machine. The server manages communication between the client and the adb daemon running on an emulator or device. A daemon, which runs as a background process on each emulator or device instance. #Basic communication model We can make it clear through this picture. Daemon: which named adbd is a service which is started when android init, and it will be restarted when it died for some reason.\nService: run background on host, it act as a proxy use for transport. Or you may know android use binder to communication.\nClient: like adb shell, adb logcat\n#Command Detail Please reference android developer\nHow can I connect to Android with ADB over TCP? At last, we have this topic. As we know from above, adb use tcp/usb, so it certainly can be connected with network. If it works, we can debug android without usb, and more we can connect one device with mutil adb client by many developers. And I find solution like this: ###if your device is rooted According to a post on stackoverflow, you can enable ADB over Wi-Fi from the device with the commands:\nsu\nsetprop service.adb.tcp.port 5555\nstop adbd\nstart adbd\ndraft: false toc: true And you can disable it and return ADB to listening on USB with\nsetprop service.adb.tcp.port -1\nstop adbd\nstart adbd\n###if you have USB access already It is even easier to switch to using Wi-Fi, if you already have USB. From a command line on the computer that has the device connected via USB, issue the commands\nadb tcpip 5555\nadb connect IP:5555\n###return to listening over USB Apps to automate the process by:\nadb usb\n###proctocol\nserver success: OKAY fail: FAIL client Message component with head which is 4 bytes indicate length of message, and follow is content. ###other There are also several apps on Google Play that automate this process.\n#Reference lf_abs12_kobayashi\nandroid developer\n","wordCount":"446","inLanguage":"en","datePublished":"2014-03-30T12:23:00+08:00","dateModified":"2014-03-30T12:23:00+08:00","mainEntityOfPage":{"@type":"WebPage","@id":"https://whbzju.github.io/posts/introduction-to-android-adb/"},"publisher":{"@type":"Organization","name":"Wujia's Blog","logo":{"@type":"ImageObject","url":"https://whbzju.github.io/favicon.ico"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://whbzju.github.io/ accesskey=h title="Wujia's Blog (Alt + H)">Wujia's Blog</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu></ul></nav></header><main class=main><article class=post-single><header class=post-header><h1 class=post-title>introduction to android adb</h1><div class=post-meta><span title='2014-03-30 12:23:00 +0800 +0800'>March 30, 2014</span></div></header><div class=post-content><p>Recently, I&rsquo;m interesting how android adb works. If you are an Android programer, you certainly familiar with <code>adb shell</code>,<code>adb logcat</code>. Or maybe you only use eclipse, it is helpful to know behind DDMS there is adb.</p><p>#ADB overview
We can find adb description from android developer website.</p><blockquote><p>Android Debug Bridge (adb) is a versatile command line tool that lets you communicate with an emulator instance or connected Android-powered device. It is a client-server program that includes three components:</p></blockquote><p>As introducted by google, it has three key components.</p><blockquote><ul><li>A client, which runs on your development machine. You can invoke a client from a shell by issuing an adb command. Other Android tools such as the ADT plugin and DDMS also create adb clients.</li><li>A server, which runs as a background process on your development machine. The server manages communication between the client and the adb daemon running on an emulator or device.</li><li>A daemon, which runs as a background process on each emulator or device instance.</li></ul></blockquote><p>#Basic communication model
We can make it clear through this picture.
<img loading=lazy src=/images/2014-03-25_adb_overview.png alt="adb overview"></p><ul><li><p>Daemon: which named adbd is a service which is started when android init, and it will be restarted when it died for some reason.</p></li><li><p>Service: run background on host, it act as a proxy use for transport. Or you may know android use binder to communication.</p></li><li><p>Client: like <code>adb shell</code>, <code>adb logcat</code></p></li></ul><p>#Command Detail
Please reference <a href=http://developer.android.com/tools/help/adb.html>android developer</a></p><h1 id=how-can-i-connect-to-android-with-adb-over-tcp>How can I connect to Android with ADB over TCP?<a hidden class=anchor aria-hidden=true href=#how-can-i-connect-to-android-with-adb-over-tcp>#</a></h1><p>At last, we have this topic. As we know from above, adb use tcp/usb, so it certainly can be connected with network. If it works, we can debug android without usb, and more we can connect one device with mutil adb client by many developers. And I find solution like this:
###if your device is rooted
According to a post on stackoverflow, you can enable ADB over Wi-Fi from the device with the commands:</p><hr><p><code>su</code></p><p><code>setprop service.adb.tcp.port 5555</code></p><p><code>stop adbd</code></p><p><code>start adbd</code></p><h2 id=toc-true>draft: false
toc: true</h2><p>And you can disable it and return ADB to listening on USB with</p><p><code>setprop service.adb.tcp.port -1</code></p><p><code>stop adbd</code></p><p><code>start adbd</code></p><p>###if you have USB access already
It is even easier to switch to using Wi-Fi, if you already have USB. From a command line on the computer that has the device connected via USB, issue the commands</p><p><code>adb tcpip 5555</code></p><p><code>adb connect IP:5555</code></p><p>###return to listening over USB
Apps to automate the process by:</p><p><code>adb usb</code></p><p>###proctocol</p><ul><li>server<ul><li>success: OKAY</li><li>fail: FAIL</li></ul></li><li>client<ul><li>Message component with head which is 4 bytes indicate length of message, and follow is content.</li></ul></li></ul><p>###other
There are also several apps on Google Play that automate this process.</p><p>#Reference
<a href=http://events.linuxfoundation.org/images/stories/pdf/lf_abs12_kobayashi.pdf>lf_abs12_kobayashi</a></p><p><a href=http://developer.android.com/tools/help/adb.html>android developer</a></p></div><footer class=post-footer><ul class=post-tags></ul></footer></article></main><footer class=footer><span>&copy; 2022 <a href=https://whbzju.github.io/>Wujia's Blog</a></span>
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script></body></html>